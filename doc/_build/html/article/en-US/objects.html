
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Objects &#8212; Miruken-ES5  documentation</title>
    
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Packages" href="packages.html" />
    <link rel="prev" title="Delegates" href="delegate.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="packages.html" title="Packages"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="delegate.html" title="Delegates"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Miruken-ES5  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="objects">
<h1>Objects<a class="headerlink" href="#objects" title="Permalink to this headline">¶</a></h1>
<p>Miruken’s object-oriented approach gives power to development teams who have worked with class-based languages to quickly build and manage models and controllers in MVC applications. Miruken’s goal is to simplify development using the existing protypical nature of the JavaScript framework, but use simple syntax and common understanding of object-oriented programming.</p>
<p>To begin, it is important to understand how JavaScript objects work compared to other object-oriented languages. If you are not familiar how JavaScript is a classless object-oriented programming language, refer to [Introduction to Object-Oriented JavaScript](<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Introduction_to_Object-Oriented_JavaScript">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Introduction_to_Object-Oriented_JavaScript</a>).</p>
<p>##Base Objects
<strong>Base</strong> is the base class for all objects in Miruken. This object is what provides the object-oriented features in Miruken. For now, let’s discuss the two (2) functions Base provides: <strong>extend</strong> and <strong>implement</strong>.</p>
<p><strong>Extend</strong> is the function with which derived classes and objects are created. You can use it to extend <em>classes</em> and <em>instances</em>.  Extend can receive many arguments as you will see, but it’s most frequently use is one to two arguments</p>
<ol class="arabic simple">
<li>An object whose members are available on instances.</li>
<li>An object whose members are available on the class itself.</li>
</ol>
<p>The last argument is <em>optional</em> and will be explained later in this section.</p>
<p><strong>NOTE:</strong> This is <em>not</em> to be confused with the ECMAScript 6 [<cite>extends</cite>](<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#Sub_classing_with_extends">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes#Sub_classing_with_extends</a>) keyword. Miruken provides additional functionality that is not available with <cite>extends</cite>.</p>
<p><strong>Implement</strong> is similar to <em>extend</em> where all you want to do is add additional static functionality to your class. The difference between <cite>extend</cite> and <cite>implement</cite> is you only need to pass an object with member functions or a single function you wish to add.</p>
<p>##Working with Classes
To begin, you can <cite>extend</cite> classes. <strong>Base</strong> is a class, therefore you should start by extending <strong>Base</strong> to create your classes. Afterwards, you can keep extending your classes to create additional classes as you would traditionally in class-based programming languages.</p>
<p>We are going to create a zoo package where you start with an <strong>Animal</strong> class and extend it to be more specific, such as an <strong>Eagle</strong> and a <strong>Mouse</strong>.  Packages will be described later.</p>
<p>For example, we will create a <cite>Logger</cite> object. Then extend it to be a <cite>ConsoleLogger</cite> and a <cite>NotificationLogger</cite>.</p>
<blockquote>
<div><p>// we need a base logger to capture all the messages
const Logger = Base.extend({
});</p>
<p>// now extend to create a console logger
const ConsoleLogger = Logger.extend({
});</p>
<p>// now extend to create a notification logger
const NotificationLogger = Logger.extend({
});</p>
</div></blockquote>
<p>As you can see, creating and extending classes is very straight forward. Provide a class name and use <cite>extend</cite>.</p>
<p>##Working with Instances
Miruken doesn’t just help define additional attributes of classes. Because you can leverage the dynamic nature of JavaScript, you can modify instances after construction and it will not affect other instances of that class.</p>
<p>For example, we have a <cite>Logger</cite> class that takes a name, just to differentiate the instances. You could theoretically have one logger that only does console logging while you create another instance to add an alert capability.</p>
<blockquote>
<div><p>new function () {</p>
<blockquote>
<div><dl class="docutils">
<dt>base2.package(this, {</dt>
<dd>name   : “instances”,
exports: “Logger”</dd>
</dl>
<p>});</p>
<p>eval(this.imports);</p>
<dl class="docutils">
<dt>const Logger = Base.extend({</dt>
<dd><p class="first">// hold the name for this logger
name: “”,</p>
<dl class="docutils">
<dt>constructor: function(name) {</dt>
<dd>this.name = name;</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>});</p>
<p>eval(this.exports);</p>
</div></blockquote>
<p>};</p>
<p>new function() {</p>
<blockquote>
<div><dl class="docutils">
<dt>base2.package(this, {</dt>
<dd>name:       “instrumentation”,
imports:    “miruken,instances”</dd>
</dl>
<p>});</p>
<p>let myLogger = new Logger(“console”);
let alertLogger = new Logger(“alert”);</p>
<dl class="docutils">
<dt>alertLogger.implement({</dt>
<dd><dl class="first docutils">
<dt>alert(message) {</dt>
<dd>alert(message);</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>});</p>
<p>alertLogger.alert(“Whoops!”);</p>
</div></blockquote>
<p>};</p>
</div></blockquote>
<p>##Working with Static Methods
You can also modify objects with functions that are static and accessible to all instances of that class.</p>
<p>For example:</p>
<blockquote>
<div><p>new function() {</p>
<blockquote>
<div><dl class="docutils">
<dt>base2.package({</dt>
<dd>name:       “instrumentation”,
imports:    “miruken”,
exports:    “NullLogger”</dd>
</dl>
<p>});</p>
<p>eval(this.imports);</p>
<p>//A null object implementation
let nullLoggerInstance;
const NullLogger = Base.extend({</p>
<blockquote>
<div>debug(){},
error(){}</div></blockquote>
<dl class="docutils">
<dt>}, {</dt>
<dd><dl class="first docutils">
<dt>get instance(){</dt>
<dd>return nullLoggerInstance = nullLoggerInstance || new NullLogger();</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>});</p>
<p>eval(this.exports);</p>
</div></blockquote>
<p>}</p>
<p>new function() {</p>
<blockquote>
<div><dl class="docutils">
<dt>base2.package({</dt>
<dd>name:       “logging”,
imports:    “instrumentation”</dd>
</dl>
<p>});</p>
<p>eval(this.imports);</p>
<p>let logger = NullLogger.instance;</p>
<p>// now just use the logger
logger.debug();</p>
</div></blockquote>
<p>};</p>
</div></blockquote>
<p>##Creating Mixins
Mixins provides a clean way for code reuse without inheritance. The power of composition makes sense when you have an object that needs a diverse sets of functionality, but you don’t want to do this through a lot of extending or inheritance. In this way, Miruken can provide multiple inheritance of various objects.</p>
<p>For example:</p>
<blockquote>
<div><dl class="docutils">
<dt>const ErrorIconMixin = Base.extend({</dt>
<dd>showErrorIcon(): {
}</dd>
</dl>
<p>});</p>
<dl class="docutils">
<dt>const ErrorMessageMixin = Base.extend({</dt>
<dd>showErrorMessage(message): {
}</dd>
</dl>
<p>});</p>
<dl class="docutils">
<dt>const Validation = Base.extend(ErrorIconMixin, ErrorMessageMixin, {</dt>
<dd><dl class="first docutils">
<dt>show(): {</dt>
<dd>ErrorIconMixin.showErrorIcon();
ErrorMessageMixin.showErrorMessage();</dd>
</dl>
<p class="last">}</p>
</dd>
</dl>
<p>});</p>
</div></blockquote>
<p>##Creating Properties
One of the features of Miruken is <cite>$properties</cite>. As the name implies, it creates the get/set operations for a given key and type.</p>
<p>For example:</p>
<blockquote>
<div><p>new function() {</p>
<blockquote>
<div><dl class="docutils">
<dt>base2.package(this, {</dt>
<dd>name   : “members”,
exports: “Person,Doctor”</dd>
</dl>
<p>});</p>
<p>eval(this.imports);</p>
<dl class="docutils">
<dt>const Person = Base.extend({</dt>
<dd><dl class="first docutils">
<dt>$properties: {</dt>
<dd>firstName: null,
lastName: null,
gender: null</dd>
</dl>
<p>},
get fullName(){</p>
<blockquote>
<div>return <cite>${this.firstName} ${this.lastName}</cite></div></blockquote>
<p class="last">}</p>
</dd>
<dt>}, {</dt>
<dd>male: “MALE”,
female: “FEMALE”,
itsComplicated: “ITSCOMPLICATED”</dd>
</dl>
<p>});</p>
<dl class="docutils">
<dt>const Doctor = Person.extend({</dt>
<dd><dl class="first docutils">
<dt>$properties: {</dt>
<dd>specialty: null</dd>
</dl>
<p>},
get fullName(){</p>
<blockquote>
<div>return <cite>Dr. ${this.base()}, ${this.specialty}</cite></div></blockquote>
<p class="last">}</p>
</dd>
<dt>}, {</dt>
<dd>earNoseThroat:  “ENT”,
familyPractice: “FP”,
spinalSurgeon:  “OSS”</dd>
</dl>
<p>});</p>
<p>eval(this.exports);</p>
</div></blockquote>
<p>};</p>
<p>new function() {</p>
<blockquote>
<div><dl class="docutils">
<dt>base2.package({</dt>
<dd>name: ‘community’,
imports: ‘common’</dd>
</dl>
<p>});</p>
<p>eval(this.imports);</p>
<dl class="docutils">
<dt>let member = new Person({</dt>
<dd>firstName: ‘John’,
lastName: ‘Smith’</dd>
</dl>
<p>});</p>
<p>var personName = member.fullName; // “John Smith”</p>
<dl class="docutils">
<dt>let specialist = new Doctor({</dt>
<dd>firstName: ‘John’,
lastName: ‘Smith’,
gender: Person.male,
specialty: Doctor.earNoseThroat</dd>
</dl>
<p>});</p>
<p>var specialistName = specialist.fullName; // “Dr. John Smith, ENT”</p>
</div></blockquote>
<p>};</p>
</div></blockquote>
<p>##References:
1. [A Base Class for JavaScript Inheritance](<a class="reference external" href="http://dean.edwards.name/weblog/2006/03/base/">http://dean.edwards.name/weblog/2006/03/base/</a>)
2. [base2: An Introduction](<a class="reference external" href="http://dean.edwards.name/weblog/2007/12/base2-intro/">http://dean.edwards.name/weblog/2007/12/base2-intro/</a>)
3. [Mozilla Developer Network](<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">https://developer.mozilla.org/en-US/docs/Web/JavaScript</a>)</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="delegate.html"
                        title="previous chapter">Delegates</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="packages.html"
                        title="next chapter">Packages</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/article/en-US/objects.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="packages.html" title="Packages"
             >next</a> |</li>
        <li class="right" >
          <a href="delegate.html" title="Delegates"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Miruken-ES5  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Miruken.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>